window.WPEM=window.WPEM||{},window.WPEM.Pointers=function(a){function b(b){var c=a.extend(b.options,{pointerClass:"wp-pointer wpem-pointer",close:function(){h&&a.post(b.ajaxurl,{pointer:b.id,action:"dismiss-wp-pointer"})},show:function(a,b){b.pointer.css("display","none"),b.opened(),setTimeout(function(){b.pointer.fadeIn("fast")},5)},hide:function(a,b){b.pointer.fadeOut("fast"),b.closed()}});b.hasOwnProperty("btn_primary")&&(c.buttons=function(c,d){var e="",f=wpPointerL10n?wpPointerL10n.dismiss:"Dismiss";b.hasOwnProperty("btn_close")&&(e='<button class="button-secondary">'+f+"</button>");var h=b.hasOwnProperty("btn_close")?b.btn_primary_class:"";return a('<div class="buttons-wrapper">'+e+'<button class="button-primary '+h+'">'+b.btn_primary+"</button></div>").bind("click.pointer",function(a){a.preventDefault(),b.hasOwnProperty("next_pointer")&&(d.element.pointer("close"),window.WPEM.Pointers.open(b.next_pointer),delete g[b.id]),("button-secondary"===a.target.className||b.hasOwnProperty("btn_primary_close"))&&(d.element.pointer("close"),delete g[b.id])})},g[b.id]={target:b.target,options:c},b.hasOwnProperty("close_on_load")||this.open(b.id))}function c(b){if(g.hasOwnProperty(b)){var c=g[b];return g[b].$target=a(c.target),c.$target.pointer(c.options).pointer("open"),a(".wp-pointer").css({"z-index":999999}),!0}return!1}function d(b,c){a.each(c,function(a,c){return!window.WPEM.Pointers.open(b+c)})}function e(a){return!!g.hasOwnProperty(a)&&g[a].hasOwnProperty("$target")}function f(){h=!1,a.each(g,function(a,b){b.hasOwnProperty("$target")&&b.$target.pointer("close")}),h=!0}var g={},h=!0;return{render:b,open:c,openFirstInRange:d,hideAll:f,isPointerOpen:e}}(jQuery),jQuery(document).ready(function(a){a.each(wpem_pointers,function(a,b){window.WPEM.Pointers.render(b)})});