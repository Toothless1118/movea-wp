!function(a){function b(){a(".primer-hero-text-widget input.link").each(function(){c.init(this)})}var c={init:function(b){if(a&&a.ui&&a.ui.autocomplete){var c,d,e=a(b);e.on("keydown",function(){e.removeAttr("aria-activedescendant")}).autocomplete({source:function(b,e){return d===b.term?void e(c):/^https?:/.test(b.term)||-1!==b.term.indexOf(".")?e():(a.post(window.ajaxurl,{action:"wp-link-ajax",page:1,search:b.term,_ajax_linking_nonce:primer_hero_text_widget._ajax_linking_nonce},function(a){c=a,e(a)},"json"),void(d=b.term))},focus:function(a,b){e.attr("aria-activedescendant","mce-wp-autocomplete-"+b.item.ID),a.preventDefault()},select:function(a,b){return e.val(b.item.permalink),e.trigger("change"),!1},open:function(){e.attr("aria-expanded","true")},close:function(){e.attr("aria-expanded","false")},minLength:2,position:{my:"left top+2"}}).autocomplete("instance")._renderItem=function(b,c){return a('<li role="option" id="primer-hero-autocomplete-'+c.ID+'">').append("<span>"+c.title+'</span>&nbsp;<span style="float:right">'+c.info+"</span>").appendTo(b)},e.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":e.autocomplete("widget").attr("id")}).on("focus",function(){var a=e.val();a&&!/^https?:/.test(a)&&e.autocomplete("search")}).autocomplete("widget").attr("role","listbox").removeAttr("tabindex").on("menufocus",function(a,b){b.item.attr("aria-selected","true")}).on("menublur",function(){a(this).find('[aria-selected="true"]').removeAttr("aria-selected")})}}};a(document).ready(b),a(document).on("primer.widgets.change",b)}(jQuery);